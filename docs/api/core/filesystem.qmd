---
title: "Filesystem"
---

## Discovery

### Interfaces

#### DiscoveryOptions

Defined in: [packages/core/src/filesystem/discovery.ts:31](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L31)

Options for extension discovery.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="includeinvalid"></a> `includeInvalid?` | `boolean` | Include extensions without valid manifests. | [packages/core/src/filesystem/discovery.ts:33](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L33) |

#### InstalledExtension

Defined in: [packages/core/src/filesystem/discovery.ts:17](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L17)

An installed extension discovered on the filesystem.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="directory"></a> `directory` | `string` | Full path to the extension directory. | [packages/core/src/filesystem/discovery.ts:25](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L25) |
| <a id="id"></a> `id` | [`ExtensionId`](types.qmd#extensionid) | Extension identifier. | [packages/core/src/filesystem/discovery.ts:19](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L19) |
| <a id="manifest"></a> `manifest` | [`ExtensionManifest`](types.qmd#extensionmanifest) | Parsed manifest data. | [packages/core/src/filesystem/discovery.ts:21](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L21) |
| <a id="manifestpath"></a> `manifestPath` | `string` | Full path to the manifest file. | [packages/core/src/filesystem/discovery.ts:23](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L23) |

### Functions

#### discoverInstalledExtensions()

```{.ts filename="TypeScript"}
function discoverInstalledExtensions(projectDir, options): Promise<InstalledExtension[]>;
```

Defined in: [packages/core/src/filesystem/discovery.ts:76](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L76)

Discover all installed extensions in a project.

Scans the _extensions directory for extensions in both formats:
- _extensions/owner/name/_extension.yml (with owner)
- _extensions/name/_extension.yml (without owner)

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `projectDir` | `string` | Project root directory |
| `options` | [`DiscoveryOptions`](#discoveryoptions) | Discovery options |

#### Returns

`Promise`\<[`InstalledExtension`](#installedextension)[]\>

Array of installed extensions

#### Example

```{.typescript filename="TypeScript"}
const extensions = await discoverInstalledExtensions("./my-project");
for (const ext of extensions) {
  console.log(`${ext.id.owner ?? ""}/${ext.id.name}: ${ext.manifest.version}`);
}
```

#### discoverInstalledExtensionsSync()

```{.ts filename="TypeScript"}
function discoverInstalledExtensionsSync(projectDir, options): InstalledExtension[];
```

Defined in: [packages/core/src/filesystem/discovery.ts:178](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L178)

Synchronous version of discoverInstalledExtensions.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `projectDir` | `string` | Project root directory |
| `options` | [`DiscoveryOptions`](#discoveryoptions) | Discovery options |

#### Returns

[`InstalledExtension`](#installedextension)[]

Array of installed extensions

#### findInstalledExtension()

```{.ts filename="TypeScript"}
function findInstalledExtension(projectDir, extensionId): Promise<InstalledExtension | null>;
```

Defined in: [packages/core/src/filesystem/discovery.ts:276](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L276)

Find a specific installed extension by ID.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `projectDir` | `string` | Project root directory |
| `extensionId` | [`ExtensionId`](types.qmd#extensionid) | Extension ID to find |

#### Returns

`Promise`\<[`InstalledExtension`](#installedextension) \| `null`\>

InstalledExtension or null if not found

#### getExtensionInstallPath()

```{.ts filename="TypeScript"}
function getExtensionInstallPath(projectDir, extensionId): string;
```

Defined in: [packages/core/src/filesystem/discovery.ts:312](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L312)

Get the installation path for an extension.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `projectDir` | `string` | Project root directory |
| `extensionId` | [`ExtensionId`](types.qmd#extensionid) | Extension ID |

#### Returns

`string`

Path where the extension should be installed

#### getExtensionsDir()

```{.ts filename="TypeScript"}
function getExtensionsDir(projectDir): string;
```

Defined in: [packages/core/src/filesystem/discovery.ts:42](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L42)

Get the extensions directory path for a project.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `projectDir` | `string` | Project root directory |

#### Returns

`string`

Path to _extensions directory

#### hasExtensionsDir()

```{.ts filename="TypeScript"}
function hasExtensionsDir(projectDir): boolean;
```

Defined in: [packages/core/src/filesystem/discovery.ts:52](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/discovery.ts#L52)

Check if an extensions directory exists.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `projectDir` | `string` | Project root directory |

#### Returns

`boolean`

True if _extensions directory exists

## Manifest

### Interfaces

#### ManifestReadResult

Defined in: [packages/core/src/filesystem/manifest.ts:18](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L18)

Result of reading a manifest file.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="filename"></a> `filename` | `string` | Filename used (e.g., "_extension.yml"). | [packages/core/src/filesystem/manifest.ts:24](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L24) |
| <a id="manifest"></a> `manifest` | [`ExtensionManifest`](types.qmd#extensionmanifest) | Parsed manifest data. | [packages/core/src/filesystem/manifest.ts:20](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L20) |
| <a id="manifestpath"></a> `manifestPath` | `string` | Full path to the manifest file. | [packages/core/src/filesystem/manifest.ts:22](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L22) |

### Functions

#### findManifestFile()

```{.ts filename="TypeScript"}
function findManifestFile(directory): string | null;
```

Defined in: [packages/core/src/filesystem/manifest.ts:33](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L33)

Find the manifest file in a directory.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `directory` | `string` | Directory to search |

#### Returns

`string` \| `null`

Path to manifest file or null if not found

#### hasManifest()

```{.ts filename="TypeScript"}
function hasManifest(directory): boolean;
```

Defined in: [packages/core/src/filesystem/manifest.ts:122](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L122)

Check if a directory contains a manifest file.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `directory` | `string` | Directory to check |

#### Returns

`boolean`

True if manifest exists

#### parseManifestContent()

```{.ts filename="TypeScript"}
function parseManifestContent(content, sourcePath?): ExtensionManifest;
```

Defined in: [packages/core/src/filesystem/manifest.ts:73](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L73)

Parse manifest content from a YAML string.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `content` | `string` | YAML content |
| `sourcePath?` | `string` | Source path for error messages (optional) |

#### Returns

[`ExtensionManifest`](types.qmd#extensionmanifest)

Parsed manifest

#### Throws

ManifestError if parsing fails

#### parseManifestFile()

```{.ts filename="TypeScript"}
function parseManifestFile(manifestPath): ExtensionManifest;
```

Defined in: [packages/core/src/filesystem/manifest.ts:50](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L50)

Parse a manifest file from a path.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `manifestPath` | `string` | Full path to the manifest file |

#### Returns

[`ExtensionManifest`](types.qmd#extensionmanifest)

Parsed manifest

#### Throws

ManifestError if parsing fails

#### readManifest()

```{.ts filename="TypeScript"}
function readManifest(directory): ManifestReadResult | null;
```

Defined in: [packages/core/src/filesystem/manifest.ts:99](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L99)

Read a manifest from a directory.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `directory` | `string` | Directory containing the manifest |

#### Returns

[`ManifestReadResult`](#manifestreadresult) \| `null`

ManifestReadResult or null if no manifest found

#### updateManifestSource()

```{.ts filename="TypeScript"}
function updateManifestSource(manifestPath, source): void;
```

Defined in: [packages/core/src/filesystem/manifest.ts:187](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L187)

Update the source field in an existing manifest file.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `manifestPath` | `string` | Path to the manifest file |
| `source` | `string` | New source value |

#### Returns

`void`

#### writeManifest()

```{.ts filename="TypeScript"}
function writeManifest(manifestPath, manifest): void;
```

Defined in: [packages/core/src/filesystem/manifest.ts:132](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/manifest.ts#L132)

Write a manifest to a file.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `manifestPath` | `string` | Path to write the manifest |
| `manifest` | [`ExtensionManifest`](types.qmd#extensionmanifest) | Manifest data to write |

#### Returns

`void`

## Walk

### Interfaces

#### WalkEntry

Defined in: [packages/core/src/filesystem/walk.ts:11](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L11)

Entry information for directory walking.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="isdirectory"></a> `isDirectory` | `boolean` | Whether entry is a directory. | [packages/core/src/filesystem/walk.ts:17](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L17) |
| <a id="name"></a> `name` | `string` | Entry name (basename). | [packages/core/src/filesystem/walk.ts:15](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L15) |
| <a id="path"></a> `path` | `string` | Full path to the entry. | [packages/core/src/filesystem/walk.ts:13](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L13) |

### Type Aliases

#### WalkCallback()

```{.ts filename="TypeScript"}
type WalkCallback = (entry) => boolean | void | Promise<boolean | void>;
```

Defined in: [packages/core/src/filesystem/walk.ts:24](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L24)

Callback for directory walking.
Return false to skip processing children of a directory.

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `entry` | [`WalkEntry`](#walkentry) |

#### Returns

`boolean` \| `void` \| `Promise`\<`boolean` \| `void`\>

### Functions

#### collectFiles()

```{.ts filename="TypeScript"}
function collectFiles(directory): Promise<string[]>;
```

Defined in: [packages/core/src/filesystem/walk.ts:57](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L57)

Collect all file paths in a directory recursively.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `directory` | `string` | Directory to walk |

#### Returns

`Promise`\<`string`[]\>

Array of file paths

#### copyDirectory()

```{.ts filename="TypeScript"}
function copyDirectory(sourceDir, targetDir): Promise<string[]>;
```

Defined in: [packages/core/src/filesystem/walk.ts:76](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L76)

Copy a directory recursively.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `sourceDir` | `string` | Source directory |
| `targetDir` | `string` | Target directory |

#### Returns

`Promise`\<`string`[]\>

Array of created file paths

#### walkDirectory()

```{.ts filename="TypeScript"}
function walkDirectory(directory, callback): Promise<void>;
```

Defined in: [packages/core/src/filesystem/walk.ts:32](https://github.com/mcanouil/quarto-wizard/blob/8ee270017a39f3e45061a948cab71b38a752f335/packages/core/src/filesystem/walk.ts#L32)

Walk a directory recursively, calling the callback for each entry.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `directory` | `string` | Directory to walk |
| `callback` | [`WalkCallback`](#walkcallback) | Callback for each entry |

#### Returns

`Promise`\<`void`\>
