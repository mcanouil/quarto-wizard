---
title: "Proxy"
---

## Proxy Configuration Module

Proxy configuration from environment variables.

Quarto Wizard respects standard proxy environment variables for network requests.
This is useful when working behind a corporate proxy.

### Envvar

HTTP_PROXY - Proxy URL for HTTP requests.

### Envvar

http_proxy - Proxy URL for HTTP requests (lowercase variant).

### Envvar

HTTPS_PROXY - Proxy URL for HTTPS requests.

### Envvar

https_proxy - Proxy URL for HTTPS requests (lowercase variant).

### Envvar

NO_PROXY - Comma or space-separated list of hosts to bypass the proxy.

### Envvar

no_proxy - Comma or space-separated list of hosts to bypass (lowercase variant).

The uppercase variants take precedence over lowercase if both are set.

### Examples

```{.bash filename="Terminal"}
export HTTPS_PROXY=http://proxy.example.com:8080
```

```{.bash filename="Terminal"}
export HTTPS_PROXY=http://user:password@proxy.example.com:8080
```

```{.bash filename="Terminal"}
export NO_PROXY=localhost,127.0.0.1,.internal.corp
```

### Pattern

- - Matches all hosts (disables proxy).

### Pattern

example.com - Matches exactly example.com and subdomains like api.example.com.

### Pattern

.example.com - Matches domain example.com and all subdomains.

### Pattern

localhost - Matches the literal hostname localhost.

### Pattern

127.0.0.1 - Matches the literal IP address.

### Note

CIDR notation (e.g., 192.168.1.0/24) is not supported.

### Interfaces

#### ProxyConfig

Defined in: [packages/core/src/proxy/config.ts:46](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L46)

Proxy configuration.

##### Properties

| Property                              | Type       | Description                                 | Defined in                                                                                                                                                            |
| ------------------------------------- | ---------- | ------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <a id="httpproxy"></a> `httpProxy?`   | `string`   | Proxy URL for HTTP requests.                | [packages/core/src/proxy/config.ts:48](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L48) |
| <a id="httpsproxy"></a> `httpsProxy?` | `string`   | Proxy URL for HTTPS requests.               | [packages/core/src/proxy/config.ts:50](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L50) |
| <a id="noproxy"></a> `noProxy`        | `string[]` | List of hosts/patterns to bypass the proxy. | [packages/core/src/proxy/config.ts:52](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L52) |

### Functions

#### getProxyConfig()

```{.ts filename="TypeScript"}
function getProxyConfig(): ProxyConfig;
```

Defined in: [packages/core/src/proxy/config.ts:88](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L88)

Read proxy configuration from environment variables.

##### Returns

[`ProxyConfig`](#proxyconfig)

Proxy configuration

#### getProxyForUrl()

```{.ts filename="TypeScript"}
function getProxyForUrl(url, config?): string | undefined;
```

Defined in: [packages/core/src/proxy/config.ts:146](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L146)

Get the appropriate proxy URL for a given request URL.

##### Parameters

| Parameter | Type                          | Description         |
| --------- | ----------------------------- | ------------------- |
| `url`     | `string`                      | Request URL         |
| `config?` | [`ProxyConfig`](#proxyconfig) | Proxy configuration |

##### Returns

`string` \| `undefined`

Proxy URL or undefined if no proxy should be used

#### shouldBypassProxy()

```{.ts filename="TypeScript"}
function shouldBypassProxy(hostname, noProxy): boolean;
```

Defined in: [packages/core/src/proxy/config.ts:109](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/config.ts#L109)

Check if a hostname should bypass the proxy.

Supports patterns:

- "\*" matches all hosts
- ".example.com" matches example.com and all subdomains
- "example.com" matches exactly example.com
- "192.168.1.0/24" style CIDR is NOT supported (matched literally)

##### Parameters

| Parameter  | Type       | Description               |
| ---------- | ---------- | ------------------------- |
| `hostname` | `string`   | Hostname to check         |
| `noProxy`  | `string[]` | List of NO_PROXY patterns |

##### Returns

`boolean`

True if the host should bypass the proxy

## Proxy-Aware Fetch Module

Proxy-aware fetch wrapper using undici.

Automatically routes requests through configured proxy servers.

### Interfaces

#### ProxyFetchOptions

Defined in: [packages/core/src/proxy/fetch.ts:72](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/fetch.ts#L72)

Options for proxy-aware fetch.

##### Extends

- `RequestInit`

##### Properties

| Property                                      | Type                                   | Description                                                   | Inherited from               | Defined in                                                                                                                                                          |
| --------------------------------------------- | -------------------------------------- | ------------------------------------------------------------- | ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <a id="body"></a> `body?`                     | `BodyInit`                             | -                                                             | `RequestInit.body`           | node_modules/undici-types/fetch.d.ts:123                                                                                                                            |
| <a id="cache"></a> `cache?`                   | `RequestCache`                         | -                                                             | `RequestInit.cache`          | node_modules/undici-types/fetch.d.ts:124                                                                                                                            |
| <a id="credentials"></a> `credentials?`       | `RequestCredentials`                   | -                                                             | `RequestInit.credentials`    | node_modules/undici-types/fetch.d.ts:125                                                                                                                            |
| <a id="dispatcher"></a> `dispatcher?`         | `Dispatcher`                           | -                                                             | `RequestInit.dispatcher`     | node_modules/undici-types/fetch.d.ts:126                                                                                                                            |
| <a id="duplex"></a> `duplex?`                 | `"half"`                               | -                                                             | `RequestInit.duplex`         | node_modules/undici-types/fetch.d.ts:127                                                                                                                            |
| <a id="headers"></a> `headers?`               | `HeadersInit`                          | -                                                             | `RequestInit.headers`        | node_modules/undici-types/fetch.d.ts:128                                                                                                                            |
| <a id="integrity"></a> `integrity?`           | `string`                               | -                                                             | `RequestInit.integrity`      | node_modules/undici-types/fetch.d.ts:129                                                                                                                            |
| <a id="keepalive"></a> `keepalive?`           | `boolean`                              | -                                                             | `RequestInit.keepalive`      | node_modules/undici-types/fetch.d.ts:130                                                                                                                            |
| <a id="method"></a> `method?`                 | `string`                               | -                                                             | `RequestInit.method`         | node_modules/undici-types/fetch.d.ts:131                                                                                                                            |
| <a id="mode"></a> `mode?`                     | `RequestMode`                          | -                                                             | `RequestInit.mode`           | node_modules/undici-types/fetch.d.ts:132                                                                                                                            |
| <a id="proxyconfig"></a> `proxyConfig?`       | [`ProxyConfig`](proxy.qmd#proxyconfig) | Proxy configuration. If not provided, reads from environment. | -                            | [packages/core/src/proxy/fetch.ts:74](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/fetch.ts#L74) |
| <a id="redirect"></a> `redirect?`             | `RequestRedirect`                      | -                                                             | `RequestInit.redirect`       | node_modules/undici-types/fetch.d.ts:133                                                                                                                            |
| <a id="referrer"></a> `referrer?`             | `string`                               | -                                                             | `RequestInit.referrer`       | node_modules/undici-types/fetch.d.ts:134                                                                                                                            |
| <a id="referrerpolicy"></a> `referrerPolicy?` | `ReferrerPolicy`                       | -                                                             | `RequestInit.referrerPolicy` | node_modules/undici-types/fetch.d.ts:135                                                                                                                            |
| <a id="signal"></a> `signal?`                 | `AbortSignal` \| `null`                | -                                                             | `RequestInit.signal`         | node_modules/undici-types/fetch.d.ts:136                                                                                                                            |
| <a id="window"></a> `window?`                 | `null`                                 | -                                                             | `RequestInit.window`         | node_modules/undici-types/fetch.d.ts:137                                                                                                                            |

### Functions

#### clearProxyAgentCache()

```{.ts filename="TypeScript"}
function clearProxyAgentCache(): void;
```

Defined in: [packages/core/src/proxy/fetch.ts:137](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/fetch.ts#L137)

Clear the proxy agent cache.
Useful for testing or when proxy configuration changes.

##### Returns

`void`

#### proxyFetch()

```{.ts filename="TypeScript"}
function proxyFetch(url, options): Promise<Response>;
```

Defined in: [packages/core/src/proxy/fetch.ts:109](https://github.com/mcanouil/quarto-wizard/blob/6fbd75c9166cec03c93f6156b6638b600c80e41c/packages/core/src/proxy/fetch.ts#L109)

Proxy-aware fetch function.

Uses undici's fetch with ProxyAgent when a proxy is configured via
environment variables (HTTP_PROXY, HTTPS_PROXY, NO_PROXY).

##### Parameters

| Parameter | Type                                      | Description                                     |
| --------- | ----------------------------------------- | ----------------------------------------------- |
| `url`     | `string` \| `URL`                         | URL to fetch                                    |
| `options` | [`ProxyFetchOptions`](#proxyfetchoptions) | Fetch options with optional proxy configuration |

##### Returns

`Promise<Response>`

Response
