---
title: "Registry"
description: "Registry caching with TTL support."
---

## Description

Registry caching with TTL support.

Provides filesystem-based caching for the extensions registry.

## Functions

### clearRegistryCache()

```{.ts filename="TypeScript"}
function clearRegistryCache(cacheDir?): Promise<void>;
```

Defined in: [packages/core/src/registry/cache.ts:133](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/cache.ts#L133)

Clear the registry cache.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `cacheDir?` | `string` | Cache directory (uses default if not provided) |

#### Returns

`Promise<void>`

### getCacheFilePath()

```{.ts filename="TypeScript"}
function getCacheFilePath(cacheDir?): string;
```

Defined in: [packages/core/src/registry/cache.ts:59](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/cache.ts#L59)

Get the cache file path.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `cacheDir?` | `string` | Cache directory (uses default if not provided) |

#### Returns

`string`

Path to cache file

### getCacheStatus()

```{.ts filename="TypeScript"}
function getCacheStatus(cacheDir?): Promise<
  | {
  age?: number;
  exists: boolean;
  url?: string;
}
| null>;
```

Defined in: [packages/core/src/registry/cache.ts:151](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/cache.ts#L151)

Get cache status information.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `cacheDir?` | `string` | Cache directory |

#### Returns

`Promise`\<
  \| \{
  `age?`: `number`;
  `exists`: `boolean`;
  `url?`: `string`;
\}
  \| `null`\>

Cache status or null if no cache exists

### getDefaultCacheDir()

```{.ts filename="TypeScript"}
function getDefaultCacheDir(): string;
```

Defined in: [packages/core/src/registry/cache.ts:37](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/cache.ts#L37)

Get the default cache directory.

#### Returns

`string`

Path to cache directory

### readCachedRegistry()

```{.ts filename="TypeScript"}
function readCachedRegistry(
   cacheDir, 
   url, 
ttl): Promise<Registry | null>;
```

Defined in: [packages/core/src/registry/cache.ts:72](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/cache.ts#L72)

Read cached registry if valid.

#### Parameters

| Parameter | Type | Default value | Description |
| ------ | ------ | ------ | ------ |
| `cacheDir` | `string` | `undefined` | Cache directory |
| `url` | `string` | `undefined` | Expected registry URL |
| `ttl` | `number` | `DEFAULT_TTL` | Cache TTL in milliseconds |

#### Returns

```{=html}
<code>Promise&lt;<a href="types.qmd#registry" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">Registry</a> | null&gt;</code>
```

Cached registry or null if cache is invalid/expired

### writeCachedRegistry()

```{.ts filename="TypeScript"}
function writeCachedRegistry(
   cacheDir, 
   url, 
registry): Promise<void>;
```

Defined in: [packages/core/src/registry/cache.ts:109](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/cache.ts#L109)

Write registry to cache.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `cacheDir` | `string` | Cache directory |
| `url` | `string` | Registry URL |
| `registry` | [`Registry`](types.qmd#registry) | Registry data to cache |

#### Returns

`Promise<void>`

## Registry fetching and parsing

### Description

Registry fetching and parsing.

Handles loading the Quarto extensions registry with caching support.

### Interfaces

#### RegistryOptions

Defined in: [packages/core/src/registry/fetcher.ts:25](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L25)

Options for fetching the registry.

#### Extended by

- [`InstallOptions`](operations.qmd#updatecheckoptions)
- [`ListAvailableOptions`](registry.qmd#listavailableoptions)

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="auth"></a> `auth?` | [`AuthConfig`](auth.qmd#authconfig) | Authentication configuration. | [packages/core/src/registry/fetcher.ts:35](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L35) |
| <a id="cachedir"></a> `cacheDir?` | `string` | Cache directory (uses platform default if not provided). | [packages/core/src/registry/fetcher.ts:29](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L29) |
| <a id="cachettl"></a> `cacheTtl?` | `number` | Cache TTL in milliseconds (default: 24 hours). | [packages/core/src/registry/fetcher.ts:33](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L33) |
| <a id="forcerefresh"></a> `forceRefresh?` | `boolean` | Force refresh, ignoring cache. | [packages/core/src/registry/fetcher.ts:31](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L31) |
| <a id="registryurl"></a> `registryUrl?` | `string` | Custom registry URL. | [packages/core/src/registry/fetcher.ts:27](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L27) |
| <a id="timeout"></a> `timeout?` | `number` | Request timeout in milliseconds. | [packages/core/src/registry/fetcher.ts:37](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L37) |

### Functions

#### fetchRegistry()

```{.ts filename="TypeScript"}
function fetchRegistry(options): Promise<Registry>;
```

Defined in: [packages/core/src/registry/fetcher.ts:46](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L46)

Fetch the extension registry.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `options` | [`RegistryOptions`](#registryoptions) | Registry options |

#### Returns

```{=html}
<code>Promise&lt;<a href="types.qmd#registry" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">Registry</a>&gt;</code>
```

Parsed registry

#### getDefaultRegistryUrl()

```{.ts filename="TypeScript"}
function getDefaultRegistryUrl(): string;
```

Defined in: [packages/core/src/registry/fetcher.ts:82](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L82)

Get the default registry URL.

#### Returns

`string`

## HTTP utilities with timeout and retry support

### Description

HTTP utilities with timeout and retry support.

Provides robust fetch operations with configurable timeouts and retries.

### Interfaces

#### HttpOptions

Defined in: [packages/core/src/registry/http.ts:15](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L15)

Options for HTTP requests.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="headers"></a> `headers?` | `Record<string, string>` | Custom headers to include. | [packages/core/src/registry/http.ts:23](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L23) |
| <a id="retries"></a> `retries?` | `number` | Number of retry attempts (default: 3). | [packages/core/src/registry/http.ts:19](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L19) |
| <a id="retrydelay"></a> `retryDelay?` | `number` | Base delay for exponential backoff in ms (default: 1000). | [packages/core/src/registry/http.ts:21](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L21) |
| <a id="timeout"></a> `timeout?` | `number` | Request timeout in milliseconds (default: 30000). | [packages/core/src/registry/http.ts:17](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L17) |

### Functions

#### fetchJson()

```{.ts filename="TypeScript"}
function fetchJson<T>(url, options): Promise<T>;
```

Defined in: [packages/core/src/registry/http.ts:86](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L86)

Fetch JSON with timeout and retry support.

#### Type Parameters

| Type Parameter |
| ------ |
| `T` |

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `url` | `string` | URL to fetch |
| `options` | [`HttpOptions`](#httpoptions) | HTTP options |

#### Returns

`Promise<T>`

Parsed JSON response

#### fetchText()

```{.ts filename="TypeScript"}
function fetchText(url, options): Promise<string>;
```

Defined in: [packages/core/src/registry/http.ts:139](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/http.ts#L139)

Fetch text with timeout and retry support.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `url` | `string` | URL to fetch |
| `options` | [`HttpOptions`](#httpoptions) | HTTP options |

#### Returns

`Promise<string>`

Response text

## Registry search and listing functions

### Description

Registry search and listing functions.

Provides search and filtering capabilities for the extensions registry.

### Interfaces

#### ListAvailableOptions

Defined in: [packages/core/src/registry/search.ts:16](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L16)

Options for listing available extensions.

#### Extends

- [`RegistryOptions`](registry.qmd#registryoptions)

#### Extended by

- [`SearchOptions`](#searchoptions)

#### Properties

| Property | Type | Description | Inherited from | Defined in |
| ------ | ------ | ------ | ------ | ------ |
| <a id="auth"></a> `auth?` | [`AuthConfig`](auth.qmd#authconfig) | Authentication configuration. | [`RegistryOptions`](registry.qmd#registryoptions).[`auth`](registry.qmd#auth) | [packages/core/src/registry/fetcher.ts:35](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L35) |
| <a id="cachedir"></a> `cacheDir?` | `string` | Cache directory (uses platform default if not provided). | [`RegistryOptions`](registry.qmd#registryoptions).[`cacheDir`](registry.qmd#cachedir) | [packages/core/src/registry/fetcher.ts:29](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L29) |
| <a id="cachettl"></a> `cacheTtl?` | `number` | Cache TTL in milliseconds (default: 24 hours). | [`RegistryOptions`](registry.qmd#registryoptions).[`cacheTtl`](registry.qmd#cachettl) | [packages/core/src/registry/fetcher.ts:33](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L33) |
| <a id="forcerefresh"></a> `forceRefresh?` | `boolean` | Force refresh, ignoring cache. | [`RegistryOptions`](registry.qmd#registryoptions).[`forceRefresh`](registry.qmd#forcerefresh) | [packages/core/src/registry/fetcher.ts:31](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L31) |
| <a id="limit"></a> `limit?` | `number` | Maximum number of results. | - | [packages/core/src/registry/search.ts:22](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L22) |
| <a id="registryurl"></a> `registryUrl?` | `string` | Custom registry URL. | [`RegistryOptions`](registry.qmd#registryoptions).[`registryUrl`](registry.qmd#registryurl) | [packages/core/src/registry/fetcher.ts:27](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L27) |
| <a id="templatesonly"></a> `templatesOnly?` | `boolean` | Filter to templates only. | - | [packages/core/src/registry/search.ts:20](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L20) |
| <a id="timeout"></a> `timeout?` | `number` | Request timeout in milliseconds. | [`RegistryOptions`](registry.qmd#registryoptions).[`timeout`](registry.qmd#timeout) | [packages/core/src/registry/fetcher.ts:37](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L37) |
| <a id="type"></a> `type?` | [`ExtensionType`](types.qmd#extensiontype) | Filter by extension type (based on topics). | - | [packages/core/src/registry/search.ts:18](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L18) |

#### SearchOptions

Defined in: [packages/core/src/registry/search.ts:28](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L28)

Options for searching extensions.

#### Extends

- [`ListAvailableOptions`](#listavailableoptions)

#### Properties

| Property | Type | Description | Inherited from | Defined in |
| ------ | ------ | ------ | ------ | ------ |
| <a id="auth-1"></a> `auth?` | [`AuthConfig`](auth.qmd#authconfig) | Authentication configuration. | [`ListAvailableOptions`](#listavailableoptions).[`auth`](#auth) | [packages/core/src/registry/fetcher.ts:35](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L35) |
| <a id="cachedir-1"></a> `cacheDir?` | `string` | Cache directory (uses platform default if not provided). | [`ListAvailableOptions`](#listavailableoptions).[`cacheDir`](#cachedir) | [packages/core/src/registry/fetcher.ts:29](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L29) |
| <a id="cachettl-1"></a> `cacheTtl?` | `number` | Cache TTL in milliseconds (default: 24 hours). | [`ListAvailableOptions`](#listavailableoptions).[`cacheTtl`](#cachettl) | [packages/core/src/registry/fetcher.ts:33](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L33) |
| <a id="forcerefresh-1"></a> `forceRefresh?` | `boolean` | Force refresh, ignoring cache. | [`ListAvailableOptions`](#listavailableoptions).[`forceRefresh`](#forcerefresh) | [packages/core/src/registry/fetcher.ts:31](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L31) |
| <a id="limit-1"></a> `limit?` | `number` | Maximum number of results. | [`ListAvailableOptions`](#listavailableoptions).[`limit`](#limit) | [packages/core/src/registry/search.ts:22](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L22) |
| <a id="minstars"></a> `minStars?` | `number` | Minimum star count. | - | [packages/core/src/registry/search.ts:30](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L30) |
| <a id="registryurl-1"></a> `registryUrl?` | `string` | Custom registry URL. | [`ListAvailableOptions`](#listavailableoptions).[`registryUrl`](#registryurl) | [packages/core/src/registry/fetcher.ts:27](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L27) |
| <a id="templatesonly-1"></a> `templatesOnly?` | `boolean` | Filter to templates only. | [`ListAvailableOptions`](#listavailableoptions).[`templatesOnly`](#templatesonly) | [packages/core/src/registry/search.ts:20](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L20) |
| <a id="timeout-1"></a> `timeout?` | `number` | Request timeout in milliseconds. | [`ListAvailableOptions`](#listavailableoptions).[`timeout`](#timeout) | [packages/core/src/registry/fetcher.ts:37](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/fetcher.ts#L37) |
| <a id="type-1"></a> `type?` | [`ExtensionType`](types.qmd#extensiontype) | Filter by extension type (based on topics). | [`ListAvailableOptions`](#listavailableoptions).[`type`](#type) | [packages/core/src/registry/search.ts:18](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L18) |

### Functions

#### getExtension()

```{.ts filename="TypeScript"}
function getExtension(id, options): Promise<RegistryEntry | null>;
```

Defined in: [packages/core/src/registry/search.ts:132](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L132)

Get a specific extension by ID from the registry.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `id` | `string` | Extension ID (e.g., "quarto-ext/lightbox") |
| `options` | [`RegistryOptions`](registry.qmd#registryoptions) | Registry options |

#### Returns

```{=html}
<code>Promise&lt;<a href="types.qmd#registryentry" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">RegistryEntry</a> | null&gt;</code>
```

Registry entry or null if not found

#### getExtensionsByOwner()

```{.ts filename="TypeScript"}
function getExtensionsByOwner(owner, options): Promise<RegistryEntry[]>;
```

Defined in: [packages/core/src/registry/search.ts:144](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L144)

Get extensions by owner.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `owner` | `string` | Owner name |
| `options` | [`RegistryOptions`](registry.qmd#registryoptions) | Registry options |

#### Returns

```{=html}
<code>Promise&lt;<a href="types.qmd#registryentry" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">RegistryEntry</a>[]&gt;</code>
```

Array of registry entries

#### listAvailable()

```{.ts filename="TypeScript"}
function listAvailable(options): Promise<RegistryEntry[]>;
```

Defined in: [packages/core/src/registry/search.ts:48](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L48)

List all available extensions from the registry.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `options` | [`ListAvailableOptions`](#listavailableoptions) | List options |

#### Returns

```{=html}
<code>Promise&lt;<a href="types.qmd#registryentry" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">RegistryEntry</a>[]&gt;</code>
```

Array of registry entries

#### Example

```{.typescript filename="TypeScript"}
// List all filters
const filters = await listAvailable({ type: "filter" });

// List templates only
const templates = await listAvailable({ templatesOnly: true, limit: 10 });
```

#### search()

```{.ts filename="TypeScript"}
function search(query, options): Promise<RegistryEntry[]>;
```

Defined in: [packages/core/src/registry/search.ts:87](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/registry/search.ts#L87)

Search for extensions in the registry.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `query` | `string` | Search query (searches name, description, topics) |
| `options` | [`SearchOptions`](#searchoptions) | Search options |

#### Returns

```{=html}
<code>Promise&lt;<a href="types.qmd#registryentry" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">RegistryEntry</a>[]&gt;</code>
```

Array of matching registry entries

#### Example

```{.typescript filename="TypeScript"}
// Search for table-related extensions
const results = await search("table", { limit: 10 });

// Search for popular filters only
const filters = await search("code", { type: "filter", minStars: 50 });
```
