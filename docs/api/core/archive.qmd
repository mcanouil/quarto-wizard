---
title: "Archive"
description: "Unified archive extraction for ZIP and TAR.GZ formats."
---

## Description

Unified archive extraction for ZIP and TAR.GZ formats.

Provides format detection, extraction, and cleanup utilities for archive files.

## Interfaces

### ExtractOptions

Defined in: [packages/core/src/archive/extract.ts:19](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L19)

Options for archive extraction.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="maxsize"></a> `maxSize?` | `number` | Maximum total extraction size in bytes. | [packages/core/src/archive/extract.ts:21](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L21) |
| <a id="onprogress"></a> `onProgress?` | (`file`) => `void` | Progress callback. | [packages/core/src/archive/extract.ts:23](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L23) |

### ExtractResult

Defined in: [packages/core/src/archive/extract.ts:29](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L29)

Result of archive extraction.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="extractdir"></a> `extractDir` | `string` | Path to the extraction directory. | [packages/core/src/archive/extract.ts:31](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L31) |
| <a id="files"></a> `files` | `string[]` | List of extracted file paths. | [packages/core/src/archive/extract.ts:33](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L33) |
| <a id="format"></a> `format` | `"zip"` \| `"tarball"` | Detected archive format. | [packages/core/src/archive/extract.ts:35](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L35) |

## Functions

### cleanupExtraction()

```{.ts filename="TypeScript"}
function cleanupExtraction(extractDir): Promise<void>;
```

Defined in: [packages/core/src/archive/extract.ts:142](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L142)

Clean up a temporary extraction directory.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `extractDir` | `string` | Directory to remove |

#### Returns

`Promise<void>`

### detectArchiveFormat()

```{.ts filename="TypeScript"}
function detectArchiveFormat(archivePath): "zip" | "tarball" | null;
```

Defined in: [packages/core/src/archive/extract.ts:41](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L41)

Detect archive format from file path.

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `archivePath` | `string` |

#### Returns

`"zip"` \| `"tarball"` \| `null`

### extractArchive()

```{.ts filename="TypeScript"}
function extractArchive(archivePath, options): Promise<ExtractResult>;
```

Defined in: [packages/core/src/archive/extract.ts:62](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L62)

Extract an archive to a temporary directory.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `archivePath` | `string` | Path to the archive file |
| `options` | [`ExtractOptions`](#extractoptions) | Extraction options |

#### Returns

```{=html}
<code>Promise&lt;<a href="#extractresult" style="text-decoration-line: underline; text-decoration-style: dashed; text-decoration-thickness: 1px; text-decoration-color: currentColor;">ExtractResult</a>&gt;</code>
```

Extraction result

### findExtensionRoot()

```{.ts filename="TypeScript"}
function findExtensionRoot(extractDir): Promise<string | null>;
```

Defined in: [packages/core/src/archive/extract.ts:103](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/extract.ts#L103)

Find the extension root in an extracted archive.

GitHub archives typically have a top-level directory like "repo-tag/".
This function finds the directory containing _extension.yml.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `extractDir` | `string` | Extraction directory |

#### Returns

`Promise<string | null>`

Path to extension root or null if not found

## TAR.GZ archive extraction with security checks

### Description

TAR.GZ archive extraction with security checks.

Includes protection against path traversal and oversized archives.

### Interfaces

#### TarExtractOptions

Defined in: [packages/core/src/archive/tar.ts:20](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/tar.ts#L20)

Options for TAR extraction.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="maxsize"></a> `maxSize?` | `number` | Maximum total extraction size in bytes. | [packages/core/src/archive/tar.ts:22](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/tar.ts#L22) |
| <a id="onprogress"></a> `onProgress?` | (`file`) => `void` | Progress callback. | [packages/core/src/archive/tar.ts:24](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/tar.ts#L24) |

### Functions

#### extractTar()

```{.ts filename="TypeScript"}
function extractTar(
   archivePath, 
   destDir, 
options): Promise<string[]>;
```

Defined in: [packages/core/src/archive/tar.ts:46](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/tar.ts#L46)

Extract a TAR.GZ archive to a directory.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `archivePath` | `string` | Path to the TAR.GZ file |
| `destDir` | `string` | Destination directory |
| `options` | [`TarExtractOptions`](#tarextractoptions) | Extraction options |

#### Returns

`Promise<string[]>`

List of extracted file paths

## ZIP archive extraction with security checks

### Description

ZIP archive extraction with security checks.

Includes protection against path traversal and zip bomb attacks.

### Interfaces

#### ZipExtractOptions

Defined in: [packages/core/src/archive/zip.ts:23](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/zip.ts#L23)

Options for ZIP extraction.

#### Properties

| Property | Type | Description | Defined in |
| ------ | ------ | ------ | ------ |
| <a id="maxsize"></a> `maxSize?` | `number` | Maximum total extraction size in bytes. | [packages/core/src/archive/zip.ts:25](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/zip.ts#L25) |
| <a id="onprogress"></a> `onProgress?` | (`file`) => `void` | Progress callback. | [packages/core/src/archive/zip.ts:27](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/zip.ts#L27) |

### Functions

#### extractZip()

```{.ts filename="TypeScript"}
function extractZip(
   archivePath, 
   destDir, 
options): Promise<string[]>;
```

Defined in: [packages/core/src/archive/zip.ts:49](https://github.com/mcanouil/quarto-wizard/blob/c27e05c17d2330c3b4e8b12081d1931652635859/packages/core/src/archive/zip.ts#L49)

Extract a ZIP archive to a directory.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `archivePath` | `string` | Path to the ZIP file |
| `destDir` | `string` | Destination directory |
| `options` | [`ZipExtractOptions`](#zipextractoptions) | Extraction options |

#### Returns

`Promise<string[]>`

List of extracted file paths
